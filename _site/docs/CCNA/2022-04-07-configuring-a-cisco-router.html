<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <title>Configuring a Cisco Router - Thanesh's Wiki</title> <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="/assets/css/just-the-docs-default.css"> <script type="text/javascript" src="/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>Configuring a Cisco Router | Thanesh’s Wiki</title> <meta name="generator" content="Jekyll v4.2.2" /> <meta property="og:title" content="Configuring a Cisco Router" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description." /> <meta property="og:description" content="Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description." /> <link rel="canonical" href="http://localhost:4000/docs/CCNA/2022-04-07-configuring-a-cisco-router.html" /> <meta property="og:url" content="http://localhost:4000/docs/CCNA/2022-04-07-configuring-a-cisco-router.html" /> <meta property="og:site_name" content="Thanesh’s Wiki" /> <meta property="og:type" content="website" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Configuring a Cisco Router" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","description":"Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description.","headline":"Configuring a Cisco Router","url":"http://localhost:4000/docs/CCNA/2022-04-07-configuring-a-cisco-router.html"}</script> <!-- End Jekyll SEO tag --> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header"> <a href="http://localhost:4000/" class="site-title lh-tight"> Thanesh's Wiki </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a> </div> <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="http://localhost:4000/" class="nav-list-link">Home</a></li><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/docs/CCNA/2022-03-10-ccna.html" class="nav-list-link">CCNA</a><ul class="nav-list "><li class="nav-list-item "><a href="http://localhost:4000/docs/CCNA/2022-03-10-introduction-to-networking.html" class="nav-list-link">Introduction to Networking</a></li><li class="nav-list-item "><a href="http://localhost:4000/docs/CCNA/2022-03-10-network-layer-addressing-and-subnetting.html" class="nav-list-link">Network Layer Addressing and Subnetting</a></li><li class="nav-list-item active"><a href="http://localhost:4000/docs/CCNA/2022-04-07-configuring-a-cisco-router.html" class="nav-list-link active">Configuring a Cisco Router</a></li><li class="nav-list-item "><a href="http://localhost:4000/docs/CCNA/2022-05-03-ethernet-operation-and-switch-config.html" class="nav-list-link">Ethernet Operation and Switch Configuration</a></li></ul></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Thanesh's Wiki" aria-label="Search Thanesh's Wiki" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> </div> <div id="main-content-wrap" class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="http://localhost:4000/docs/CCNA/2022-03-10-ccna.html">CCNA</a></li> <li class="breadcrumb-nav-list-item"><span>Configuring a Cisco Router</span></li> </ol> </nav> <div id="main-content" class="main-content" role="main"> <h1 id="configuring-a-cisco-router"> <a href="#configuring-a-cisco-router" class="anchor-heading" aria-labelledby="configuring-a-cisco-router"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Configuring a Cisco Router </h1> <h2 id="cisco-router"> <a href="#cisco-router" class="anchor-heading" aria-labelledby="cisco-router"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Cisco Router </h2> <p><img src="/assets/images/CCNA/cisco-router-labelled.jpeg" alt="Cisco Router Labelled" /></p> <p>This is an example of what Configuration Ports look like on a Cisco Router.</p> <p>It is important to note that the Console &amp; Aux ports do not pass any networking traffic. These ports are only used for configuration and need to be connected using a rollover cable.</p> <h2 id="boot-process"> <a href="#boot-process" class="anchor-heading" aria-labelledby="boot-process"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Boot Process </h2> <h3 id="pc-boot-process"> <a href="#pc-boot-process" class="anchor-heading" aria-labelledby="pc-boot-process"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> PC Boot Process </h3> <ol> <li>Power of Self Test <ul> <li>PC checks its hardware</li> </ul> </li> <li>Load BIOS from ROM</li> <li>Load Operating System</li> <li>Load Personal Settings <ul> <li>User authentication</li> <li>Display background</li> <li>Bookmarks, etc.</li> </ul> </li> </ol> <h3 id="router-boot-process"> <a href="#router-boot-process" class="anchor-heading" aria-labelledby="router-boot-process"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Router Boot Process </h3> <p>The router boot process follows a similar process to the PC.</p> <ol> <li>Power on Self Test</li> <li>Load Bootstrap <ul> <li>BIOS</li> <li>‘Kicks the router into action’</li> </ul> </li> <li>Load IOS (Operating System)</li> <li>Load Configuration <ul> <li>startup-config file</li> </ul> </li> </ol> <h2 id="cisco-router-files-and-licensing"> <a href="#cisco-router-files-and-licensing" class="anchor-heading" aria-labelledby="cisco-router-files-and-licensing"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Cisco Router Files and Licensing </h2> <h3 id="router-memory"> <a href="#router-memory" class="anchor-heading" aria-labelledby="router-memory"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Router Memory </h3> <ul> <li><strong>EEPROM</strong> stores Bootstrap</li> <li><strong>Flash</strong> stores IO <ul> <li>This could either be on the board or a removable device.</li> </ul> </li> <li><strong>NVRAM</strong> (Non-volatile RAM) holds the <code class="language-plaintext highlighter-rouge">startup-config</code></li> <li><strong>RAM</strong> holds the <code class="language-plaintext highlighter-rouge">running-config</code> <ul> <li>All our config is stored here.</li> <li>Typically, we make a copy of the <code class="language-plaintext highlighter-rouge">running-config</code> to the <strong>NVRAM</strong>. This is to ensure that our change sticks and the config is run on next boot.</li> </ul> </li> </ul> <h3 id="internetworking-operating-system"> <a href="#internetworking-operating-system" class="anchor-heading" aria-labelledby="internetworking-operating-system"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Internetworking Operating System </h3> <p>This is the OS used by Cisco devices.</p> <p><strong>Platform</strong></p> <ul> <li>Router</li> <li>Layer 3 Switch</li> <li>Switch</li> <li>Model Number</li> </ul> <p><strong>Trains</strong> - Major Releases</p> <p>This can be thought of as the same as releases of Windows 7,8,10,11.</p> <p>12.2-12.4 - 15.0 -15.1</p> <p><strong>Throttles</strong> - Minor Releases</p> <p>These are smaller releases, usually updating the major release.</p> <p>12.2(10) - 12.4(20) - 15.0(1) - 15.1(3)</p> <p><strong>Rebuilds</strong></p> <p>Typically an update released to fix a bug.</p> <p>12.2(10b) - 12.4(20)T3 - 15.0(1)M8 - 15.1(3)T2</p> <p><strong>File Name Format</strong></p> <p><strong>c1841-adventerprisek9-mz.124-24.T5.bin</strong></p> <ul> <li><strong>c1841</strong> - Cisco 1800 Series Router model 1841</li> <li><strong>adventerprise9-mz</strong> - Advance Enterprise Feature Set</li> <li><strong>124</strong> - Train</li> <li><strong>24</strong> - Throttle</li> <li><strong>T5</strong> - Rebuild</li> <li><strong>Bin</strong> - Binary File System</li> </ul> <h3 id="ios-licensing"> <a href="#ios-licensing" class="anchor-heading" aria-labelledby="ios-licensing"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> IOS Licensing </h3> <p>To retrieve an IOS License for a Cisco Router, there are several steps involved. Typically, a person will buy a certificate from a <strong>Cisco Value Added Reseller</strong>. After retrieving this certificate, the person will that uplod this information to a <strong>Cisco License Server</strong>. The licensing server will then grant the person the key which unlocks the feature set that they purchased.</p> <h2 id="router-configuration"> <a href="#router-configuration" class="anchor-heading" aria-labelledby="router-configuration"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Router Configuration </h2> <p>In basic terms, a router is used to route traffic from one network to another. This section covers the basic configuration required to setup a Cisco Router.</p> <p><img src="/assets/images/CCNA/router-setup.jpg" alt="Router Setup" /></p> <h3 id="cli-modes"> <a href="#cli-modes" class="anchor-heading" aria-labelledby="cli-modes"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> CLI modes </h3> <p><strong>User mode</strong></p> <div class="language-tcl highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Router&gt; 
</code></pre></div></div> <p><strong>Privileged mode</strong></p> <div class="language-tcl highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Router#
</code></pre></div></div> <p><strong>Global Configuration mode</strong></p> <div class="language-tcl highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Router<span class="p">(</span>config<span class="p">)</span>#
</code></pre></div></div> <h3 id="base-config"> <a href="#base-config" class="anchor-heading" aria-labelledby="base-config"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Base Config </h3> <p>The following changes the router’s hostname, domain name and motd (message of the day).</p> <div class="language-tcl highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Router<span class="p">(</span>config<span class="p">)</span><span class="c1"># hostname RossRouter</span>
RossRouter<span class="p">(</span>config<span class="p">)</span><span class="c1"># ip domain-name pluralsight.com</span>
RossRouter<span class="p">(</span>config<span class="p">)</span><span class="c1"># banner motd # </span>
Authorized Use Only! #
</code></pre></div></div> <h3 id="enable-password-for-user-mode"> <a href="#enable-password-for-user-mode" class="anchor-heading" aria-labelledby="enable-password-for-user-mode"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Enable Password for User mode </h3> <div class="language-tcl highlighter-rouge"><div class="highlight"><pre class="highlight"><code>RossRouter&gt; enable
RossRouter# conf t
RossRouter<span class="p">(</span>config<span class="p">)</span><span class="c1"># line console 0</span>
RossRouter<span class="p">(</span>config-line<span class="p">)</span><span class="c1"># password cisco</span>
RossRouter<span class="p">(</span>config-line<span class="p">)</span><span class="c1"># login</span>
RossRouter<span class="p">(</span>config-line<span class="p">)</span><span class="c1"># line aux 0</span>
RossRouter<span class="p">(</span>config-line<span class="p">)</span><span class="c1"># password cisco</span>
RossRouter<span class="p">(</span>config-line<span class="p">)</span><span class="c1"># login</span>
RossRouter<span class="p">(</span>config-line<span class="p">)</span><span class="c1"># exit</span>
</code></pre></div></div> <h3 id="enable-password-for-privilleged-mode"> <a href="#enable-password-for-privilleged-mode" class="anchor-heading" aria-labelledby="enable-password-for-privilleged-mode"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Enable Password for Privilleged mode </h3> <div class="language-tcl highlighter-rouge"><div class="highlight"><pre class="highlight"><code>RossRouter&gt; enable
RossRouter# conf t
RossRouter<span class="p">(</span>config<span class="p">)</span><span class="c1"># enable secret cisco</span>
RossRouter<span class="p">(</span>config<span class="p">)</span><span class="c1"># exit</span>
</code></pre></div></div> <h3 id="show-running-config"> <a href="#show-running-config" class="anchor-heading" aria-labelledby="show-running-config"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Show Running Config </h3> <div class="language-tcl highlighter-rouge"><div class="highlight"><pre class="highlight"><code>RossRouter&gt; enable
RossRouter# show running-config
</code></pre></div></div> <h3 id="make-logging-synchronous"> <a href="#make-logging-synchronous" class="anchor-heading" aria-labelledby="make-logging-synchronous"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Make logging synchronous </h3> <p>This is used to allow you to continue typing your command, even after a log message appears.</p> <div class="language-tcl highlighter-rouge"><div class="highlight"><pre class="highlight"><code>RossRouter# config t
RossRouter<span class="p">(</span>config<span class="p">)</span><span class="c1"># line con 0 </span>
RossRouter<span class="p">(</span>config-line<span class="p">)</span><span class="c1"># logging sync</span>
RossRouter<span class="p">(</span>config-line<span class="p">)</span><span class="c1"># line aux 0</span>
RossRouter<span class="p">(</span>config-line<span class="p">)</span><span class="c1"># logging sync</span>
RossRouter<span class="p">(</span>config-line<span class="p">)</span><span class="c1"># exit</span>
RossRouter<span class="p">(</span>config<span class="p">)</span><span class="c1"># exit</span>
</code></pre></div></div> <h3 id="configure-ssh-access"> <a href="#configure-ssh-access" class="anchor-heading" aria-labelledby="configure-ssh-access"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Configure SSH access </h3> <p>This gives you shell access to the router when you are unable to access it physically.</p> <div class="language-tcl highlighter-rouge"><div class="highlight"><pre class="highlight"><code>RossRouter# conf t
RossRouter<span class="p">(</span>config<span class="p">)</span><span class="c1"># crypto key generate rsa general-keys</span>
RossRouter<span class="p">(</span>config<span class="p">)</span><span class="c1"># ip ssh version 2</span>
RossRouter<span class="p">(</span>config<span class="p">)</span><span class="c1"># username ross secret cisco</span>
RossRouter<span class="p">(</span>config-line<span class="p">)</span><span class="c1"># transport input ssh</span>
RossRouter<span class="p">(</span>config-line<span class="p">)</span><span class="c1"># login local</span>
RossRouter<span class="p">(</span>config-line<span class="p">)</span><span class="c1"># logging sync</span>
</code></pre></div></div> <h3 id="configuring-an-interface"> <a href="#configuring-an-interface" class="anchor-heading" aria-labelledby="configuring-an-interface"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Configuring an Interface </h3> <div class="language-tcl highlighter-rouge"><div class="highlight"><pre class="highlight"><code>RossRouter<span class="p">(</span>config<span class="p">)</span><span class="c1"># interface fastethernet 0/0</span>
RossRouter<span class="p">(</span>config-if<span class="p">)</span><span class="c1"># ip address 10.0.0.1 255.255.255.128</span>
RossRouter<span class="p">(</span>config-if<span class="p">)</span><span class="c1"># shutdown</span>
! This command enables an interface <span class="p">(</span>brings it up<span class="p">)</span>.
RossRouter<span class="p">(</span>config-if<span class="p">)</span><span class="c1"># no shutdown</span>
</code></pre></div></div> <h3 id="save-running-config-to-startup-config"> <a href="#save-running-config-to-startup-config" class="anchor-heading" aria-labelledby="save-running-config-to-startup-config"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Save <code class="language-plaintext highlighter-rouge">running-config</code> to <code class="language-plaintext highlighter-rouge">startup-config</code> </h3> <div class="language-tcl highlighter-rouge"><div class="highlight"><pre class="highlight"><code>RossRouter# copy running-config startup-config
</code></pre></div></div> <h2 id="router-configuration-with-shortcuts-and-ipv6"> <a href="#router-configuration-with-shortcuts-and-ipv6" class="anchor-heading" aria-labelledby="router-configuration-with-shortcuts-and-ipv6"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Router Configuration with Shortcuts and IPv6 </h2> <h3 id="erase-startup-config-and-reload"> <a href="#erase-startup-config-and-reload" class="anchor-heading" aria-labelledby="erase-startup-config-and-reload"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Erase Startup-config and reload </h3> <div class="language-tcl highlighter-rouge"><div class="highlight"><pre class="highlight"><code>RossRouter&gt; enable
RossRouter# show startup-config
RossRouter# erase startup-config
RossRouter# show startup-config
RossRouter# reload
</code></pre></div></div> <h3 id="configuration-with-shortcuts"> <a href="#configuration-with-shortcuts" class="anchor-heading" aria-labelledby="configuration-with-shortcuts"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Configuration with Shortcuts </h3> <p><strong>List all available commands</strong></p> <div class="language-tcl highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Router&gt; ?
</code></pre></div></div> <p><strong>List all commands starting with the letter ‘e’</strong></p> <div class="language-tcl highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Router&gt; e?
</code></pre></div></div> <p>Use the ‘tab’ key for auto-completion.</p> <h3 id="connecting-to-the-router-via-ssh"> <a href="#connecting-to-the-router-via-ssh" class="anchor-heading" aria-labelledby="connecting-to-the-router-via-ssh"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Connecting to the Router via SSH </h3> <p>By default, when connecting to the router via SSH, it doesn’t log console messages. To ensure console messages are logged, run the following command.</p> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>RossRouter# terminal monitor
</code></pre></div></div> <p><strong>Don’t cut your own arm off</strong> - remember to never shutdown an interface (e.g. f0/0) via SSH. This makes the interface inaccessible, meaning you will loss connection to the router. The only way to remedy this is to be physically present to the router and connect directly.</p> <h3 id="adding-ipv6n-address-to-the-router"> <a href="#adding-ipv6n-address-to-the-router" class="anchor-heading" aria-labelledby="adding-ipv6n-address-to-the-router"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Adding IPv6n Address to the Router </h3> <p><img src="/assets/images/CCNA/router-ipv6-config.jpg" alt="Cisco Router IPv6 Setup" /></p> <div class="language-tcl highlighter-rouge"><div class="highlight"><pre class="highlight"><code>RossRouter# conf t
RossRouter<span class="p">(</span>config<span class="p">)</span><span class="c1"># ipv6 unicast-routing</span>
RossRouter<span class="p">(</span>config<span class="p">)</span><span class="c1"># int f0/0</span>
RossRouter<span class="p">(</span>config-if<span class="p">)</span><span class="c1"># ipv6 address 2001:db8:4:A::1/64</span>
RossRouter<span class="p">(</span>config-if<span class="p">)</span><span class="c1"># ipv6 address 2001:db8:4:B::1/64</span>
RossRouter<span class="p">(</span>config-if<span class="p">)</span><span class="c1"># exit</span>
RossRouter<span class="p">(</span>config<span class="p">)</span><span class="c1"># exit</span>
</code></pre></div></div> <h2 id="upgrading-ios"> <a href="#upgrading-ios" class="anchor-heading" aria-labelledby="upgrading-ios"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Upgrading IOS </h2> <h3 id="preparing-the-router-for-an-ios-upgrade"> <a href="#preparing-the-router-for-an-ios-upgrade" class="anchor-heading" aria-labelledby="preparing-the-router-for-an-ios-upgrade"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Preparing the Router for an IOS Upgrade </h3> <div class="language-tcl highlighter-rouge"><div class="highlight"><pre class="highlight"><code>RossRouter&gt; en
RossRouter# show version
! This command checks the space left on the flash drive.
RossRouter# show flash
</code></pre></div></div> <p>If there isn’t enough space for the new OS, we’ll have to delete the old one before proceeding with the upgrade.</p> <h3 id="transfer-the-ios-image-to-the-router"> <a href="#transfer-the-ios-image-to-the-router" class="anchor-heading" aria-labelledby="transfer-the-ios-image-to-the-router"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Transfer the IOS image to the Router </h3> <p>To transfer the IOS image to the Router, we need to have a TFTP (Trivial File Transfer Protocol) server setup with the files present. We can setup a TFTP server on our local machines using a client available online.</p> <div class="language-tcl highlighter-rouge"><div class="highlight"><pre class="highlight"><code>RossRouter# copy tftp flash
</code></pre></div></div> <h3 id="verifying-file-transfer-and-booting-the-router-with-new-ios-image"> <a href="#verifying-file-transfer-and-booting-the-router-with-new-ios-image" class="anchor-heading" aria-labelledby="verifying-file-transfer-and-booting-the-router-with-new-ios-image"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Verifying File Transfer and Booting the Router with New IOS image </h3> <div class="language-tcl highlighter-rouge"><div class="highlight"><pre class="highlight"><code>RossRouter# config t
RossRouter<span class="p">(</span>config<span class="p">)</span><span class="c1"># boot system flash:/c1841-advipservicesk9-mz.124-15.T8.bin</span>
RossRouter<span class="p">(</span>config<span class="p">)</span><span class="c1"># exit</span>
RossRouter<span class="p">(</span>config<span class="p">)</span><span class="c1"># copy run start</span>
</code></pre></div></div> <h3 id="verifying-the-ios-upgrade"> <a href="#verifying-the-ios-upgrade" class="anchor-heading" aria-labelledby="verifying-the-ios-upgrade"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Verifying the IOS Upgrade </h3> <div class="language-tcl highlighter-rouge"><div class="highlight"><pre class="highlight"><code>RossRouter# show ver
</code></pre></div></div> <h2 id="check-your-knowledge"> <a href="#check-your-knowledge" class="anchor-heading" aria-labelledby="check-your-knowledge"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Check Your Knowledge </h2> <h3 id="interrupt-boot-process"> <a href="#interrupt-boot-process" class="anchor-heading" aria-labelledby="interrupt-boot-process"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Interrupt Boot Process </h3> <p>When a Router is in the process of booting up, we issue a <code class="language-plaintext highlighter-rouge">break</code> command to interrupt the boot process. We might do this to alter the ‘Configuration Register’ which tells the Router what to do when it is booting up.</p> <p><strong>Configuration Register</strong></p> <p>0x2102 - 0010 0001 0000 0010</p> <ul> <li>The last four digits in the ‘Configuration Register’ is the ‘Boot Fields’.</li> <li>In this register, the Boot Fields is set to Boot as configured in Boot System field in Startup-Config.</li> </ul> <h3 id="router-password-recovery"> <a href="#router-password-recovery" class="anchor-heading" aria-labelledby="router-password-recovery"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Router Password Recovery </h3> <p>Typically, we want to interrupt the router’s boot process when we need to reset the password. To recover the password for Cisco Router we have to follow these steps:</p> <ol> <li>Shutdown the Router</li> <li>Power the Router back on and issue the <code class="language-plaintext highlighter-rouge">break</code> command</li> <li>The Router will now go into ROM monitor mode</li> <li>Issue the command <code class="language-plaintext highlighter-rouge">confreg 0x2142</code> which tells the Router to ignore startup-config</li> <li>Reset the Router</li> <li>Elevate to Privilleged mode</li> <li><code class="language-plaintext highlighter-rouge">copy startup-config running-config</code></li> <li>Change password</li> <li>Go back into configure mode - <code class="language-plaintext highlighter-rouge">conf t</code></li> <li>Issue the command <code class="language-plaintext highlighter-rouge">config-register 0x2102</code>, changing changes the ‘Configuration Register’ back to its original state</li> <li><code class="language-plaintext highlighter-rouge">copy run start</code></li> <li>We need to manually bring up the interfaces, as copying the running config to startup doesn’t do this for us <ul> <li><code class="language-plaintext highlighter-rouge">show ip interface-brief</code> - displays the statuses of the interfaces</li> <li><code class="language-plaintext highlighter-rouge">no shutdown</code> - brings the interface back up</li> </ul> </li> <li><code class="language-plaintext highlighter-rouge">copy run start</code></li> </ol> <h3 id="troubleshooting-boot-process"> <a href="#troubleshooting-boot-process" class="anchor-heading" aria-labelledby="troubleshooting-boot-process"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Troubleshooting Boot Process </h3> <p>The following steps indicate how to go about erasing the flash memory on a Cisco Router.</p> <ol> <li> <p>Authenticate via serial</p> </li> <li> <div class="language-tcl highlighter-rouge"><div class="highlight"><pre class="highlight"><code>RossRouter&gt; en
RossRouter# show flash
</code></pre></div> </div> </li> <li> <div class="language-tcl highlighter-rouge"><div class="highlight"><pre class="highlight"><code>RossRouter# erase flash:
</code></pre></div> </div> </li> <li> <div class="language-tcl highlighter-rouge"><div class="highlight"><pre class="highlight"><code>RossRouter# reload
</code></pre></div> </div> </li> </ol> <p>If there is no IOS on the flash, the Router will have nothing to boot. To recover the IOS, you have several options depending on the model of the Router.</p> <p><strong>Method 1</strong></p> <p>If the Router has a removable flash card, you can remove that card and add files to it manually from a PC. After inserting the IOS on the card, you can insert back into the Router and it will boot the OS.</p> <p><strong>Method 2</strong></p> <p>Some models of Routers can use TFTP from ROM monitor mode, meaning you can copy the IOS files remotely. To determine if your router has this functionality, visit cisco.com.</p> <p><strong>Other Options</strong></p> <p>If you face this situation, the best option is to google for a solution. There should be plenty of options based on your Router’s model.</p> <h3 id="useful-ios-show-commands"> <a href="#useful-ios-show-commands" class="anchor-heading" aria-labelledby="useful-ios-show-commands"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Useful IOS Show Commands </h3> <p>Show IOS version and Configuration Register</p> <div class="language-tcl highlighter-rouge"><div class="highlight"><pre class="highlight"><code>RossRouter# show version
</code></pre></div></div> <p>Show files on flash registry and available space</p> <div class="language-tcl highlighter-rouge"><div class="highlight"><pre class="highlight"><code>RossRouter# show flash
</code></pre></div></div> <p>Show state of all the Router’s interfaces</p> <div class="language-tcl highlighter-rouge"><div class="highlight"><pre class="highlight"><code>RossRouter# show ip interface brief
RossRouter<span class="p">(</span>config<span class="p">)</span><span class="c1"># do show ip interface brief</span>
</code></pre></div></div> <p>Show all details about an interface, e.g. MAC address, IP address, MTU, Bandwidth. Particularly useful when you need to investigate issues/erros with the interface.</p> <div class="language-tcl highlighter-rouge"><div class="highlight"><pre class="highlight"><code>RossRouter# show interface f0/0
</code></pre></div></div> <p>Prevent attempts to establist Telnet connection with supposed domain name entered. This stops your Cisco Router attempting to connect with a device when you have incorrectly typed a command.</p> <div class="language-tcl highlighter-rouge"><div class="highlight"><pre class="highlight"><code>RossRouter<span class="p">(</span>config<span class="p">)</span><span class="c1"># no ip domain-lookup</span>
</code></pre></div></div> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
